Files API - Claude Docs 

[Claude Docs home page![light logo](../../../../mintcdn.com/anthropic-claude-docs/DcI2Ybid7ZEnFaf0/logo/light%EF%B9%96fit=max&auto=format&n=DcI2Ybid7ZEnFaf0&q=85&s=c877c45432515ee69194cb19e9f983a2.svg)![dark logo](../../../../mintcdn.com/anthropic-claude-docs/DcI2Ybid7ZEnFaf0/logo/dark%EF%B9%96fit=max&auto=format&n=DcI2Ybid7ZEnFaf0&q=85&s=f5bb877be0cb3cba86cf6d7c88185216.svg)](../../home.html)

![US](../../../../d3gk2c5xim1je2.cloudfront.net/flags/US.svg)

English

Search...

⌘K

-   [Console](https://console.anthropic.com/login)
-   [Support](https://support.claude.com/)
-   [Discord](https://www.anthropic.com/discord)
-   [Sign up](https://console.anthropic.com/login)
-   [
    
    Sign up
    
    ](https://console.anthropic.com/login)

Search...

Navigation

Capabilities

Files API

[Welcome

](../../home.html)[Claude Developer Platform

](../intro.html)[Claude Code

](../claude-code/overview.html)[Model Context Protocol (MCP)

](../mcp.html)[API Reference

](../../api/messages.html)[Resources

](../../resources/overview.html)[Release Notes

](../../release-notes/overview.html)

-   [
    
    Developer Guide](../intro.html)
-   [
    
    API Guide](../../api/overview.html)

##### First steps

-   [
    
    Intro to Claude
    
    
    
    ](../intro.html)
-   [
    
    Quick start
    
    
    
    ](../get-started.html)

##### Models & pricing

-   [
    
    Models overview
    
    
    
    ](../about-claude/models/overview.html)
-   [
    
    Choosing a model
    
    
    
    ](../about-claude/models/choosing-a-model.html)
-   [
    
    What's new in Claude 4.5
    
    
    
    ](../about-claude/models/whats-new-claude-4-5.html)
-   [
    
    Migrating to Claude 4.5
    
    
    
    ](../about-claude/models/migrating-to-claude-4.html)
-   [
    
    Model deprecations
    
    
    
    ](../about-claude/model-deprecations.html)
-   [
    
    Pricing
    
    
    
    ](../about-claude/pricing.html)

##### Learn about Claude

-   [
    
    Features overview
    
    
    
    ](overview.html)
-   [
    
    Building with Claude
    
    
    
    ](../overview.html)
-   [
    
    Context windows
    
    
    
    ](context-windows.html)
-   [
    
    Glossary
    
    
    
    ](../about-claude/glossary.html)

##### Capabilities

-   [
    
    Prompt caching
    
    
    
    ](prompt-caching.html)
-   [
    
    Context editing
    
    
    
    ](context-editing.html)
-   [
    
    Extended thinking
    
    
    
    ](extended-thinking.html)
-   [
    
    Streaming Messages
    
    
    
    ](streaming.html)
-   [
    
    Batch processing
    
    
    
    ](batch-processing.html)
-   [
    
    Citations
    
    
    
    ](citations.html)
-   [
    
    Multilingual support
    
    
    
    ](multilingual-support.html)
-   [
    
    Token counting
    
    
    
    ](token-counting.html)
-   [
    
    Embeddings
    
    
    
    ](embeddings.html)
-   [
    
    Vision
    
    
    
    ](vision.html)
-   [
    
    PDF support
    
    
    
    ](pdf-support.html)
-   [
    
    Files API
    
    
    
    ](files.html)
-   [
    
    Search results
    
    
    
    ](search-results.html)
-   [
    
    Google Sheets add-on
    
    
    
    ](../agents-and-tools/claude-for-sheets.html)

##### Tools

-   [
    
    Overview
    
    
    
    ](../agents-and-tools/tool-use/overview.html)
-   [
    
    How to implement tool use
    
    
    
    ](../agents-and-tools/tool-use/implement-tool-use.html)
-   [
    
    Token-efficient tool use
    
    
    
    ](../agents-and-tools/tool-use/token-efficient-tool-use.html)
-   [
    
    Fine-grained tool streaming
    
    
    
    ](../agents-and-tools/tool-use/fine-grained-tool-streaming.html)
-   [
    
    Bash tool
    
    
    
    ](../agents-and-tools/tool-use/bash-tool.html)
-   [
    
    Code execution tool
    
    
    
    ](../agents-and-tools/tool-use/code-execution-tool.html)
-   [
    
    Computer use tool
    
    
    
    ](../agents-and-tools/tool-use/computer-use-tool.html)
-   [
    
    Text editor tool
    
    
    
    ](../agents-and-tools/tool-use/text-editor-tool.html)
-   [
    
    Web fetch tool
    
    
    
    ](../agents-and-tools/tool-use/web-fetch-tool.html)
-   [
    
    Web search tool
    
    
    
    ](../agents-and-tools/tool-use/web-search-tool.html)
-   [
    
    Memory tool
    
    
    
    ](../agents-and-tools/tool-use/memory-tool.html)

##### Agent Skills

-   [
    
    Overview
    
    
    
    ](../agents-and-tools/agent-skills/overview.html)
-   [
    
    Quickstart
    
    
    
    ](../agents-and-tools/agent-skills/quickstart.html)
-   [
    
    Best practices
    
    
    
    ](../agents-and-tools/agent-skills/best-practices.html)

##### Model Context Protocol (MCP)

-   [
    
    MCP connector
    
    
    
    ](../agents-and-tools/mcp-connector.html)
-   [
    
    Remote MCP servers
    
    
    
    ](../agents-and-tools/remote-mcp-servers.html)

##### Use cases

-   [
    
    Overview
    
    
    
    ](../about-claude/use-case-guides/overview.html)
-   [
    
    Ticket routing
    
    
    
    ](../about-claude/use-case-guides/ticket-routing.html)
-   [
    
    Customer support agent
    
    
    
    ](../about-claude/use-case-guides/customer-support-chat.html)
-   [
    
    Content moderation
    
    
    
    ](../about-claude/use-case-guides/content-moderation.html)
-   [
    
    Legal summarization
    
    
    
    ](../about-claude/use-case-guides/legal-summarization.html)

##### Prompt engineering

-   [
    
    Overview
    
    
    
    ](prompt-engineering/overview.html)
-   [
    
    Claude 4 best practices
    
    
    
    ](prompt-engineering/claude-4-best-practices.html)
-   [
    
    Prompt generator
    
    
    
    ](prompt-engineering/prompt-generator.html)
-   [
    
    Use prompt templates
    
    
    
    ](prompt-engineering/prompt-templates-and-variables.html)
-   [
    
    Prompt improver
    
    
    
    ](prompt-engineering/prompt-improver.html)
-   [
    
    Be clear and direct
    
    
    
    ](prompt-engineering/be-clear-and-direct.html)
-   [
    
    Use examples (multishot prompting)
    
    
    
    ](prompt-engineering/multishot-prompting.html)
-   [
    
    Let Claude think (CoT)
    
    
    
    ](prompt-engineering/chain-of-thought.html)
-   [
    
    Use XML tags
    
    
    
    ](prompt-engineering/use-xml-tags.html)
-   [
    
    Give Claude a role (system prompts)
    
    
    
    ](prompt-engineering/system-prompts.html)
-   [
    
    Prefill Claude's response
    
    
    
    ](prompt-engineering/prefill-claudes-response.html)
-   [
    
    Chain complex prompts
    
    
    
    ](prompt-engineering/chain-prompts.html)
-   [
    
    Long context tips
    
    
    
    ](prompt-engineering/long-context-tips.html)
-   [
    
    Extended thinking tips
    
    
    
    ](prompt-engineering/extended-thinking-tips.html)

##### Test & evaluate

-   [
    
    Define success criteria
    
    
    
    ](../test-and-evaluate/define-success.html)
-   [
    
    Develop test cases
    
    
    
    ](../test-and-evaluate/develop-tests.html)
-   [
    
    Using the Evaluation Tool
    
    
    
    ](../test-and-evaluate/eval-tool.html)
-   [
    
    Reducing latency
    
    
    
    ](../test-and-evaluate/strengthen-guardrails/reduce-latency.html)

##### Strengthen guardrails

-   [
    
    Reduce hallucinations
    
    
    
    ](../test-and-evaluate/strengthen-guardrails/reduce-hallucinations.html)
-   [
    
    Increase output consistency
    
    
    
    ](../test-and-evaluate/strengthen-guardrails/increase-consistency.html)
-   [
    
    Mitigate jailbreaks
    
    
    
    ](../test-and-evaluate/strengthen-guardrails/mitigate-jailbreaks.html)
-   [
    
    Streaming refusals
    
    
    
    ](../test-and-evaluate/strengthen-guardrails/handle-streaming-refusals.html)
-   [
    
    Reduce prompt leak
    
    
    
    ](../test-and-evaluate/strengthen-guardrails/reduce-prompt-leak.html)
-   [
    
    Keep Claude in character
    
    
    
    ](../test-and-evaluate/strengthen-guardrails/keep-claude-in-character.html)

 

On this page

-   [Supported models](#supported-models)
-   [How the Files API works](#how-the-files-api-works)
-   [How to use the Files API](#how-to-use-the-files-api)
-   [Uploading a file](#uploading-a-file)
-   [Using a file in messages](#using-a-file-in-messages)
-   [File types and content blocks](#file-types-and-content-blocks)
-   [Working with other file formats](#working-with-other-file-formats)
-   [Document blocks](#document-blocks)
-   [Image blocks](#image-blocks)
-   [Managing files](#managing-files)
-   [List files](#list-files)
-   [Get file metadata](#get-file-metadata)
-   [Delete a file](#delete-a-file)
-   [Downloading a file](#downloading-a-file)
-   [File storage and limits](#file-storage-and-limits)
-   [Storage limits](#storage-limits)
-   [File lifecycle](#file-lifecycle)
-   [Error handling](#error-handling)
-   [Usage and billing](#usage-and-billing)
-   [Rate limits](#rate-limits)

Capabilities

# Files API

Copy page

Copy page

The Files API lets you upload and manage files to use with the Claude API without re-uploading content with each request. This is particularly useful when using the [code execution tool](../agents-and-tools/tool-use/code-execution-tool.html) to provide inputs (e.g. datasets and documents) and then download outputs (e.g. charts). You can also use the Files API to prevent having to continually re-upload frequently used documents and images across multiple API calls. You can [explore the API reference directly](../../api/files-create.html), in addition to this guide.

The Files API is currently in beta. Please reach out through our [feedback form](https://forms.gle/tisHyierGwgN4DUE9) to share your experience with the Files API.

## 

[​

](#supported-models)

Supported models

Referencing a `file_id` in a Messages request is supported in all models that support the given file type. For example, [images](vision.html) are supported in all Claude 3+ models, [PDFs](pdf-support.html) in all Claude 3.5+ models, and [various other file types](../agents-and-tools/tool-use/code-execution-tool.html#supported-file-types) for the code execution tool in Claude 3.5 Haiku plus all Claude 3.7+ models. The Files API is currently not supported on Amazon Bedrock or Google Vertex AI.

## 

[​

](#how-the-files-api-works)

How the Files API works

The Files API provides a simple create-once, use-many-times approach for working with files:

-   **Upload files** to our secure storage and receive a unique `file_id`
-   **Download files** that are created from the code execution tool
-   **Reference files** in [Messages](../../api/messages.html) requests using the `file_id` instead of re-uploading content
-   **Manage your files** with list, retrieve, and delete operations

## 

[​

](#how-to-use-the-files-api)

How to use the Files API

To use the Files API, you’ll need to include the beta feature header: `anthropic-beta: files-api-2025-04-14`.

### 

[​

](#uploading-a-file)

Uploading a file

Upload a file to be referenced in future API calls:

Shell

Python

TypeScript

Copy

```shellscript
curl -X POST https://api.anthropic.com/v1/files \
  -H "x-api-key: $ANTHROPIC_API_KEY" \
  -H "anthropic-version: 2023-06-01" \
  -H "anthropic-beta: files-api-2025-04-14" \
  -F "file=@/path/to/document.pdf"
```

The response from uploading a file will include:

Copy

```json
{
  "id": "file_011CNha8iCJcU1wXNR6q4V8w",
  "type": "file",
  "filename": "document.pdf",
  "mime_type": "application/pdf",
  "size_bytes": 1024000,
  "created_at": "2025-01-01T00:00:00Z",
  "downloadable": false
}
```

### 

[​

](#using-a-file-in-messages)

Using a file in messages

Once uploaded, reference the file using its `file_id`:

Shell

Python

TypeScript

Copy

```shellscript
curl -X POST https://api.anthropic.com/v1/messages \
  -H "x-api-key: $ANTHROPIC_API_KEY" \
  -H "anthropic-version: 2023-06-01" \
  -H "anthropic-beta: files-api-2025-04-14" \
  -H "content-type: application/json" \
  -d '{
    "model": "claude-sonnet-4-5",
    "max_tokens": 1024,
    "messages": [
      {
        "role": "user",
        "content": [
          {
            "type": "text",
            "text": "Please summarize this document for me."          
          },
          {
            "type": "document",
            "source": {
              "type": "file",
              "file_id": "file_011CNha8iCJcU1wXNR6q4V8w"
            }
          }
        ]
      }
    ]
  }'
```

### 

[​

](#file-types-and-content-blocks)

File types and content blocks

The Files API supports different file types that correspond to different content block types:

| File Type | MIME Type | Content Block Type | Use Case |
| --- | --- | --- | --- |
| PDF | `application/pdf` | `document` | Text analysis, document processing |
| Plain text | `text/plain` | `document` | Text analysis, processing |
| Images | `image/jpeg`, `image/png`, `image/gif`, `image/webp` | `image` | Image analysis, visual tasks |
| [Datasets, others](../agents-and-tools/tool-use/code-execution-tool.html#supported-file-types) | Varies | `container_upload` | Analyze data, create visualizations |

### 

[​

](#working-with-other-file-formats)

Working with other file formats

For file types that are not supported as `document` blocks (.csv, .txt, .md, .docx, .xlsx), convert the files to plain text, and include the content directly in your message:

Shell

Python

TypeScript

Copy

```shellscript
# Example: Reading a text file and sending it as plain text
# Note: For files with special characters, consider base64 encoding
TEXT_CONTENT=$(cat document.txt | jq -Rs .)

curl https://api.anthropic.com/v1/messages \
  -H "content-type: application/json" \
  -H "x-api-key: $ANTHROPIC_API_KEY" \
  -H "anthropic-version: 2023-06-01" \
  -d @- <<EOF
{
  "model": "claude-sonnet-4-5",
  "max_tokens": 1024,
  "messages": [
    {
      "role": "user",
      "content": [
        {
          "type": "text",
          "text": "Here's the document content:\n\n${TEXT_CONTENT}\n\nPlease summarize this document."
        }
      ]
    }
  ]
}
EOF
```

For .docx files containing images, convert them to PDF format first, then use [PDF support](pdf-support.html) to take advantage of the built-in image parsing. This allows using citations from the PDF document.

#### 

[​

](#document-blocks)

Document blocks

For PDFs and text files, use the `document` content block:

Copy

```json
{
  "type": "document",
  "source": {
    "type": "file",
    "file_id": "file_011CNha8iCJcU1wXNR6q4V8w"
  },
  "title": "Document Title", // Optional
  "context": "Context about the document", // Optional  
  "citations": {"enabled": true} // Optional, enables citations
}
```

#### 

[​

](#image-blocks)

Image blocks

For images, use the `image` content block:

Copy

```json
{
  "type": "image",
  "source": {
    "type": "file",
    "file_id": "file_011CPMxVD3fHLUhvTqtsQA5w"
  }
}
```

### 

[​

](#managing-files)

Managing files

#### 

[​

](#list-files)

List files

Retrieve a list of your uploaded files:

Shell

Python

TypeScript

Copy

```shellscript
curl https://api.anthropic.com/v1/files \
  -H "x-api-key: $ANTHROPIC_API_KEY" \
  -H "anthropic-version: 2023-06-01" \
  -H "anthropic-beta: files-api-2025-04-14"
```

#### 

[​

](#get-file-metadata)

Get file metadata

Retrieve information about a specific file:

Shell

Python

TypeScript

Copy

```shellscript
curl https://api.anthropic.com/v1/files/file_011CNha8iCJcU1wXNR6q4V8w \
  -H "x-api-key: $ANTHROPIC_API_KEY" \
  -H "anthropic-version: 2023-06-01" \
  -H "anthropic-beta: files-api-2025-04-14"
```

#### 

[​

](#delete-a-file)

Delete a file

Remove a file from your workspace:

Shell

Python

TypeScript

Copy

```shellscript
curl -X DELETE https://api.anthropic.com/v1/files/file_011CNha8iCJcU1wXNR6q4V8w \
  -H "x-api-key: $ANTHROPIC_API_KEY" \
  -H "anthropic-version: 2023-06-01" \
  -H "anthropic-beta: files-api-2025-04-14"
```

### 

[​

](#downloading-a-file)

Downloading a file

Download files that have been created by the code execution tool:

Shell

Python

TypeScript

Copy

```shellscript
curl -X GET "https://api.anthropic.com/v1/files/file_011CNha8iCJcU1wXNR6q4V8w/content" \
  -H "x-api-key: $ANTHROPIC_API_KEY" \
  -H "anthropic-version: 2023-06-01" \
  -H "anthropic-beta: files-api-2025-04-14" \
  --output downloaded_file.txt
```

You can only download files that were created by the [code execution tool](../agents-and-tools/tool-use/code-execution-tool.html). Files that you uploaded cannot be downloaded.

* * *

## 

[​

](#file-storage-and-limits)

File storage and limits

### 

[​

](#storage-limits)

Storage limits

-   **Maximum file size:** 500 MB per file
-   **Total storage:** 100 GB per organization

### 

[​

](#file-lifecycle)

File lifecycle

-   Files are scoped to the workspace of the API key. Other API keys can use files created by any other API key associated with the same workspace
-   Files persist until you delete them
-   Deleted files cannot be recovered
-   Files are inaccessible via the API shortly after deletion, but they may persist in active `Messages` API calls and associated tool uses
-   Files that users delete will be deleted in accordance with our [data retention policy](https://privacy.claude.com/en/articles/7996866-how-long-do-you-store-my-organization-s-data).

* * *

## 

[​

](#error-handling)

Error handling

Common errors when using the Files API include:

-   **File not found (404):** The specified `file_id` doesn’t exist or you don’t have access to it
-   **Invalid file type (400):** The file type doesn’t match the content block type (e.g., using an image file in a document block)
-   **Exceeds context window size (400):** The file is larger than the context window size (e.g. using a 500 MB plaintext file in a `/v1/messages` request)
-   **Invalid filename (400):** Filename doesn’t meet the length requirements (1-255 characters) or contains forbidden characters (`<`, `>`, `:`, `"`, `|`, `?`, `*`, `\`, `/`, or unicode characters 0-31)
-   **File too large (413):** File exceeds the 500 MB limit
-   **Storage limit exceeded (403):** Your organization has reached the 100 GB storage limit

Copy

```json
{
  "type": "error",
  "error": {
    "type": "invalid_request_error",
    "message": "File not found: file_011CNha8iCJcU1wXNR6q4V8w"
  }
}
```

## 

[​

](#usage-and-billing)

Usage and billing

File API operations are **free**:

-   Uploading files
-   Downloading files
-   Listing files
-   Getting file metadata
-   Deleting files

File content used in `Messages` requests are priced as input tokens. You can only download files created by the code execution tool.

### 

[​

](#rate-limits)

Rate limits

During the beta period:

-   File-related API calls are limited to approximately 100 requests per minute
-   [Contact us](../../../cdn-cgi/l/email-protection.html#6714060b0214270609130f1508170e044904080a) if you need higher limits for your use case

Was this page helpful?

YesNo

[PDF support](pdf-support.html)[Search results](search-results.html)

Assistant

Responses are generated using AI and may contain mistakes.

[Claude Docs home page![light logo](../../../../mintcdn.com/anthropic-claude-docs/DcI2Ybid7ZEnFaf0/logo/light%EF%B9%96fit=max&auto=format&n=DcI2Ybid7ZEnFaf0&q=85&s=c877c45432515ee69194cb19e9f983a2.svg)![dark logo](../../../../mintcdn.com/anthropic-claude-docs/DcI2Ybid7ZEnFaf0/logo/dark%EF%B9%96fit=max&auto=format&n=DcI2Ybid7ZEnFaf0&q=85&s=f5bb877be0cb3cba86cf6d7c88185216.svg)](../../home.html)

[x](https://x.com/AnthropicAI)[linkedin](https://www.linkedin.com/company/anthropicresearch)

Company

[Anthropic](https://www.anthropic.com/company)[Careers](https://www.anthropic.com/careers)[Economic Futures](https://www.anthropic.com/economic-futures)[Research](https://www.anthropic.com/research)[News](https://www.anthropic.com/news)[Trust center](https://trust.anthropic.com/)[Transparency](https://www.anthropic.com/transparency)

Help and security

[Availability](https://www.anthropic.com/supported-countries)[Status](https://status.anthropic.com/)[Support center](https://support.claude.com/)

Learn

[Courses](https://www.anthropic.com/learn)[MCP connectors](https://claude.com/partners/mcp)[Customer stories](https://www.claude.com/customers)[Engineering blog](https://www.anthropic.com/engineering)[Events](https://www.anthropic.com/events)[Powered by Claude](https://claude.com/partners/powered-by-claude)[Service partners](https://claude.com/partners/services)[Startups program](https://claude.com/programs/startups)

Terms and policies

[Privacy policy](https://www.anthropic.com/legal/privacy)[Disclosure policy](https://www.anthropic.com/responsible-disclosure-policy)[Usage policy](https://www.anthropic.com/legal/aup)[Commercial terms](https://www.anthropic.com/legal/commercial-terms)[Consumer terms](https://www.anthropic.com/legal/consumer-terms)