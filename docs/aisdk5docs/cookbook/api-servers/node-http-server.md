AI SDK 5 is available now.










Menu


























































































































































































































































































































































































# [Node.js HTTP Server](#nodejs-http-server)

You can use the AI SDK in a Node.js HTTP server to generate text and stream it to the client.

## [Examples](#examples)

The examples start a simple HTTP server that listens on port 8080. You can e.g. test it using `curl`:



``` bash
curl -X POST http://localhost:8080
```





The examples use the OpenAI `gpt-4o` model. Ensure that the OpenAI API key is set in the `OPENAI_API_KEY` environment variable.




### [UI Message Stream](#ui-message-stream)

You can use the `pipeUIMessageStreamToResponse` method to pipe the stream data to the server response.












``` ts
import  from '@ai-sdk/openai';import  from 'ai';import  from 'http';
createServer(async (req, res) => );
  result.pipeUIMessageStreamToResponse(res);}).listen(8080);
```


### [Sending Custom Data](#sending-custom-data)

`createUIMessageStream` and `pipeUIMessageStreamToResponse` can be used to send custom data to the client.












``` ts
import  from '@ai-sdk/openai';import  from 'ai';import  from 'http';
createServer(async (req, res) => ) => );
          writer.write(,          });
          const result = streamText();
          writer.merge(            result.toUIMessageStream(,            }),          );        },      });
      pipeUIMessageStreamToResponse();
      break;    }  }}).listen(8080);
```


### [Text Stream](#text-stream)

You can send a text stream to the client using `pipeTextStreamToResponse`.












``` ts
import  from '@ai-sdk/openai';import  from 'ai';import  from 'http';
createServer(async (req, res) => );
  result.pipeTextStreamToResponse(res);}).listen(8080);
```


## [Troubleshooting](#troubleshooting)

- Streaming not working when [proxied](../../docs/troubleshooting/streaming-not-working-when-proxied.html)
















On this page






























Vercel delivers the infrastructure and developer experience you need to ship reliable AI-powered applications at scale.

Trusted by industry leaders:















#### Resources




#### More




#### About Vercel




#### Legal







Â© 2025 Vercel, Inc.