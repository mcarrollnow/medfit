AI SDK 5 is available now.










Menu


























































































































































































































































































































































































# [Share useChat State Across Components](#share-usechat-state-across-components)

When building chat applications, you may want to access the same chat instance across multiple components. This allows you to display messages in one component, handle input in another, and control the chat state from anywhere in your application.

## [Create a Chat Context](#create-a-chat-context)

First, create a context that will hold your chat instance and provide methods to interact with it.












``` tsx
'use client';
import React,  from 'react';import  from '@ai-sdk/react';import  from 'ai';
interface ChatContextValue 
const ChatContext = createContext<ChatContextValue | undefined>(undefined);
function createChat() ),  });}
export function ChatProvider(: ) ;
  return (    <ChatContext.Provider      value=}    >          </ChatContext.Provider>  );}
export function useSharedChatContext()   return context;}
```


## [Wrap Your App with the Provider](#wrap-your-app-with-the-provider)

Add the ChatProvider to your layout to make the chat context available to all child components.












``` tsx
import  from './chat-context';
export default function Layout(: ) </ChatProvider>;}
```


## [Display Messages and Clear Chat](#display-messages-and-clear-chat)

Create a component that displays messages and provides a button to clear the chat.












``` tsx
'use client';
import  from '@ai-sdk/react';import  from './chat-context';import ChatInput from './chat-input';
export default function Chat()  = useSharedChatContext();  const  = useChat();
  return (    <div>      <button onClick= disabled=>        Clear Chat      </button>
      >          <strong>: `}</strong>          ></div>;            }          })}        </div>      ))}
      <ChatInput />    </div>  );}
```


## [Handle Input in a Separate Component](#handle-input-in-a-separate-component)

Create an input component that uses the shared chat context to send messages.












``` tsx
import  from '@ai-sdk/react';import  from 'react';import  from './chat-context';
export default function ChatInput()  = useSharedChatContext();  const [text, setText] = useState('');  const  = useChat();
  return (    <form      onSubmit=);        setText('');      }}    >      <input        placeholder="Say something..."        disabled=        value=        onChange=      />      >          Stop        </button>      )}    </form>  );}
```


## [Server](#server)

Create an API route to handle the chat messages using the AI SDK.












``` tsx
import  from '@ai-sdk/openai';import  from 'ai';
export const maxDuration = 30;
export async function POST(req: Request) :  = await req.json();
  const result = streamText();
  return result.toUIMessageStreamResponse();}
```







View Example on GitHub




















On this page




























Vercel delivers the infrastructure and developer experience you need to ship reliable AI-powered applications at scale.

Trusted by industry leaders:















#### Resources




#### More




#### About Vercel




#### Legal







Â© 2025 Vercel, Inc.