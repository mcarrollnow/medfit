AI SDK 5 is available now.










Menu


























































































































































































































































































































































































# [Stream Text with Image Prompt](#stream-text-with-image-prompt)

Vision models such as GPT-4o can process both text and images. In this example, we will show you how to send an image URL along with the user's message to the model with `useChat`.

## [Using Image URLs](#using-image-urls)

### [Server](#server)

The server route uses `convertToModelMessages` to handle the conversion from `UIMessage`s to model messages, which automatically handles multimodal content including images.












``` tsx
import  from '@ai-sdk/openai';import  from 'ai';
export const maxDuration = 60;
export async function POST(req: Request)  = await req.json();
  // Call the language model  const result = streamText();
  // Respond with the stream  return result.toUIMessageStreamResponse();}
```


### [Client](#client)

On the client side, we use the new `useChat` hook and send multimodal messages using the `parts` array.












``` typescript
'use client';
import  from '@ai-sdk/react';import  from 'ai';import  from 'react';
// Allow streaming responses up to 30 secondsexport const maxDuration = 30;
export default function Chat()  = useChat();
  const handleSubmit = async (event: React.FormEvent<HTMLFormElement>) => ,            ]          : []),        ,      ],    });    setInput('');    setImageUrl('');  };
  return (    <div>      <div>        >            <span></span>            <div>                                      src=                        alt=                      />                    );                  default:                    return null;                }              })}            </div>          </div>        ))}      </div>      <form onSubmit=>        <div>          <label htmlFor="image-url">Image URL:</label>          <input            id="image-url"            value=            placeholder="Enter image URL..."            onChange=          />        </div>        <div>          <label htmlFor="image-description">Prompt:</label>          <input            id="image-description"            value=            placeholder="What does the image show..."            onChange=          />        </div>        <button type="submit">Send Message</button>      </form>    </div>  );}
```

















On this page
























Vercel delivers the infrastructure and developer experience you need to ship reliable AI-powered applications at scale.

Trusted by industry leaders:















#### Resources




#### More




#### About Vercel




#### Legal







Â© 2025 Vercel, Inc.