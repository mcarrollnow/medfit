AI SDK 5 is available now.










Menu


























































































































































































































































































































































































# [Call Tools in Multiple Steps](#call-tools-in-multiple-steps)

Models call tools to gather information or perform actions that are not directly available to the model. When tool results are available, the model can use them to generate another response.

You can enable multi-step tool calls in `generateText` by defining stopping conditions with `stopWhen`. This allows you to define the conditions for which your agent should stop when the model generates a tool call.



``` ts
import  from 'ai';import  from '@ai-sdk/openai';import  from 'zod';
const  = await generateText(),      execute: async (: ) => (),    }),  },  prompt: 'What is the weather in San Francisco?',});
```

















On this page











Vercel delivers the infrastructure and developer experience you need to ship reliable AI-powered applications at scale.

Trusted by industry leaders:















#### Resources




#### More




#### About Vercel




#### Legal







Â© 2025 Vercel, Inc.