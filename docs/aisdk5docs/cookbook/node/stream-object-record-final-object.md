AI SDK 5 is available now.










Menu


























































































































































































































































































































































































# [Record Final Object after Streaming Object](#record-final-object-after-streaming-object)

When you're streaming structured data, you may want to record the final object for logging or other purposes.

## [`onFinish` Callback](#onfinish-callback)

You can use the `onFinish` callback to record the final object. It is called when the stream is finished.

The `object` parameter contains the final object, or `undefined` if the type validation fails. There is also an `error` parameter that contains error when e.g. the object does not match the schema.



``` ts
import  from '@ai-sdk/openai';import  from 'ai';import  from 'zod';
const result = streamObject(),  }),  prompt: 'Generate a lasagna recipe.',  onFinish() 
    console.log('Final object:', JSON.stringify(object, null, 2));  },});
```


## [`object` Promise](#object-promise)

The [`streamObject`](../../docs/reference/ai-sdk-core/stream-object.html) result contains an `object` promise that resolves to the final object. The object is fully typed. When the type validation according to the schema fails, the promise will be rejected with a `TypeValidationError`.



``` ts
import  from '@ai-sdk/openai';import  from 'ai';import  from 'zod';
const result = streamObject(),  }),  prompt: 'Generate a lasagna recipe.',});
result.object  .then(() => )  .catch(error => );
// note: the stream needs to be consumed because of backpressurefor await (const partialObject of result.partialObjectStream) 
```

















On this page



















Vercel delivers the infrastructure and developer experience you need to ship reliable AI-powered applications at scale.

Trusted by industry leaders:















#### Resources




#### More




#### About Vercel




#### Legal







Â© 2025 Vercel, Inc.