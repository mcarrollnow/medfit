AI SDK 5 is available now.










Menu















































































































































































































































































































































































































# [Rate Limiting](#rate-limiting)

Rate limiting helps you protect your APIs from abuse. It involves setting a maximum threshold on the number of requests a client can make within a specified timeframe. This simple technique acts as a gatekeeper, preventing excessive usage that can degrade service performance and incur unnecessary costs.

## [Rate Limiting with Vercel KV and Upstash Ratelimit](#rate-limiting-with-vercel-kv-and-upstash-ratelimit)













``` tsx
import kv from '@vercel/kv';import  from '@ai-sdk/openai';import  from 'ai';import  from '@upstash/ratelimit';import  from 'next/server';
// Allow streaming responses up to 30 secondsexport const maxDuration = 30;
// Create Rate limitconst ratelimit = new Ratelimit();
export async function POST(req: NextRequest)  = await ratelimit.limit(ip);
  // block the request if unsuccessfull  if (!success) );  }
  const  = await req.json();
  const result = streamText();
  return result.toUIMessageStreamResponse();}
```


## [Simplify API Protection](#simplify-api-protection)

















On this page



















Vercel delivers the infrastructure and developer experience you need to ship reliable AI-powered applications at scale.

Trusted by industry leaders:















#### Resources




#### More




#### About Vercel




#### Legal







Â© 2025 Vercel, Inc.