AI SDK 5 is available now.










Menu















































































































































































































































































































































































































# [`convertToModelMessages()`](#converttomodelmessages)

The `convertToModelMessages` function is used to transform an array of UI messages from the `useChat` hook into an array of `ModelMessage` objects. These `ModelMessage` objects are compatible with AI core functions like `streamText`.












``` ts
import  from '@ai-sdk/openai';import  from 'ai';
export async function POST(req: Request)  = await req.json();
  const result = streamText();
  return result.toUIMessageStreamResponse();}
```


## [Import](#import)



``` geist-overflow-scroll-y
import  from "ai"
```










## [API Signature](#api-signature)

### [Parameters](#parameters)






### messages:


Message\[\]




An array of UI messages from the useChat hook to be converted





### options:





Optional configuration object. Provide tools to enable multi-modal tool responses.






### [Returns](#returns)

An array of [`ModelMessage`](../ai-sdk-core/model-message.html) objects.






### ModelMessage\[\]:


Array




An array of ModelMessage objects






## [Multi-modal Tool Responses](#multi-modal-tool-responses)

The `convertToModelMessages` function supports tools that can return multi-modal content. This is useful when tools need to return non-text content like images.



``` ts
import  from 'ai';import  from 'zod';
const screenshotTool = tool(),  execute: async () => 'imgbase64',  toModelOutput: result => [],});
const result = streamText(,  }),});
```


Tools can implement the optional `toModelOutput` method to transform their results into multi-modal content. The content is an array of content parts, where each part has a `type` (e.g., 'text', 'image') and corresponding data.
















On this page






























Vercel delivers the infrastructure and developer experience you need to ship reliable AI-powered applications at scale.

Trusted by industry leaders:















#### Resources




#### More




#### About Vercel




#### Legal







Â© 2025 Vercel, Inc.