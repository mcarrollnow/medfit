AI SDK 5 is available now.










Menu


































































































































































































































































































































































































































































































































# [`zodSchema()`](#zodschema)

`zodSchema` is a helper function that converts a Zod schema into a JSON schema object that is compatible with the AI SDK. It takes a Zod schema and optional configuration as inputs, and returns a typed schema.

You can use it to [generate structured data](../../ai-sdk-core/generating-structured-data.html) and in [tools](../../ai-sdk-core/tools-and-tool-calling.html).




You can also pass Zod objects directly to the AI SDK functions. Internally, the AI SDK will convert the Zod schema to a JSON schema using `zodSchema()`. However, if you want to specify options such as `useReferences`, you can pass the `zodSchema()` helper function instead.



## [Example with recursive schemas](#example-with-recursive-schemas)



``` ts
import  from 'ai';import  from 'zod';
// Define a base category schemaconst baseCategorySchema = z.object();
// Define the recursive Category typetype Category = z.infer<typeof baseCategorySchema> & ;
// Create the recursive schema using z.lazyconst categorySchema: z.ZodType<Category> = baseCategorySchema.extend();
// Create the final schema with useReferences enabled for recursive supportconst mySchema = zodSchema(  z.object(),  ,);
```


## [Import](#import)



``` geist-overflow-scroll-y
import  from "ai"
```










## [API Signature](#api-signature)

### [Parameters](#parameters)






### zodSchema:


z.Schema




The Zod schema definition.





### options:


object




Additional options for the schema conversion.




object




### useReferences?:


boolean




Enables support for references in the schema. This is required for recursive schemas, e.g. with \`z.lazy\`. However, not all language models and providers support such references. Defaults to \`false\`.








### [Returns](#returns)

A Schema object that is compatible with the AI SDK, containing both the JSON schema representation and validation functionality.
















On this page






























Vercel delivers the infrastructure and developer experience you need to ship reliable AI-powered applications at scale.

Trusted by industry leaders:















#### Resources




#### More




#### About Vercel




#### Legal







Â© 2025 Vercel, Inc.