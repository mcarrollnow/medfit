AI SDK 5 is available now.










Menu


































































































































































































































































































































































































































































































































# [`defaultSettingsMiddleware()`](#defaultsettingsmiddleware)

`defaultSettingsMiddleware` is a middleware function that applies default settings to language model calls. This is useful when you want to establish consistent default parameters across multiple model invocations.



``` ts
import  from 'ai';
const middleware = defaultSettingsMiddleware(,});
```


## [Import](#import)



``` geist-overflow-scroll-y
import  from "ai"
```










## [API Signature](#api-signature)

### [Parameters](#parameters)

The middleware accepts a configuration object with the following properties:

- `settings`: An object containing default parameter values to apply to language model calls. These can include any valid `LanguageModelV2CallOptions` properties and optional provider metadata.

### [Returns](#returns)

Returns a middleware object that:

- Merges the default settings with the parameters provided in each model call
- Ensures that explicitly provided parameters take precedence over defaults
- Merges provider metadata objects

### [Usage Example](#usage-example)



``` ts
import  from 'ai';import  from 'ai';import  from 'ai';import  from 'ai';
// Create a model with default settingsconst modelWithDefaults = wrapLanguageModel(),  middleware: defaultSettingsMiddleware(,      },    },  }),});
// Use the model - default settings will be appliedconst result = await streamText();
```


## [How It Works](#how-it-works)

The middleware:

1.  Takes a set of default settings as configuration
2.  Merges these defaults with the parameters provided in each model call
3.  Ensures that explicitly provided parameters take precedence over defaults
4.  Merges provider metadata objects from both sources
















On this page

































Vercel delivers the infrastructure and developer experience you need to ship reliable AI-powered applications at scale.

Trusted by industry leaders:















#### Resources




#### More




#### About Vercel




#### Legal







Â© 2025 Vercel, Inc.