AI SDK 5 is available now.










Menu


































































































































































































































































































































































































































































































































# [`stepCountIs()`](#stepcountis)

Creates a stop condition that stops when the number of steps reaches a specified count.

This function is used with `stopWhen` in `generateText` and `streamText` to control when a tool-calling loop should stop based on the number of steps executed.



``` ts
import  from '@ai-sdk/openai';import  from 'ai';
const result = await generateText(,  // Stop after 5 steps  stopWhen: stepCountIs(5),});
```


## [Import](#import)



``` geist-overflow-scroll-y
import  from "ai"
```










## [API Signature](#api-signature)

### [Parameters](#parameters)






### count:


number




The maximum number of steps to execute before stopping the tool-calling loop.






### [Returns](#returns)

A `StopCondition` function that returns `true` when the step count reaches the specified number. The function can be used with the `stopWhen` parameter in `generateText` and `streamText`.

## [Examples](#examples)

### [Basic Usage](#basic-usage)

Stop after 3 steps:



``` ts
import  from 'ai';
const result = await generateText();
```


### [Combining with Other Conditions](#combining-with-other-conditions)

You can combine multiple stop conditions in an array:



``` ts
import  from 'ai';
const result = await generateText();
```


## [See also](#see-also)

- [`hasToolCall()`](has-tool-call.html)
- [`generateText()`](generate-text.html)
- [`streamText()`](stream-text.html)
















On this page









































Vercel delivers the infrastructure and developer experience you need to ship reliable AI-powered applications at scale.

Trusted by industry leaders:















#### Resources




#### More




#### About Vercel




#### Legal







Â© 2025 Vercel, Inc.