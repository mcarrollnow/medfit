AI SDK 5 is available now.










Menu






















































































































































































































































































































































# [Agents](#agents)

Agents are **large language models (LLMs)** that use **tools** in a **loop** to accomplish tasks.

These components work together:

- **LLMs** process input and decide the next action
- **Tools** extend capabilities beyond text generation (reading files, calling APIs, writing to databases)
- **Loop** orchestrates execution through:
  - **Context management** - Maintaining conversation history and deciding what the model sees (input) at each step
  - **Stopping conditions** - Determining when the loop (task) is complete

## [Agent Class](#agent-class)

The Agent class handles these three components. Here's an agent that uses multiple tools in a loop to accomplish a task:



``` ts
import  from 'ai';import  from 'zod';
const weatherAgent = new Agent(),      execute: async () => (),    }),    convertFahrenheitToCelsius: tool(),      execute: async () => ;      },    }),  },  stopWhen: stepCountIs(20),});
const result = await weatherAgent.generate();
console.log(result.text); // agent's final answerconsole.log(result.steps); // steps taken by the agent
```


The agent automatically:

1.  Calls the `weather` tool to get the temperature in Fahrenheit
2.  Calls `convertFahrenheitToCelsius` to convert it
3.  Generates a final text response with the result

The Agent class handles the loop, context management, and stopping conditions.

## [Why Use the Agent Class?](#why-use-the-agent-class)

The Agent class is the recommended approach for building agents with the AI SDK because it:

- **Reduces boilerplate** - Manages loops and message arrays
- **Improves reusability** - Define once, use throughout your application
- **Simplifies maintenance** - Single place to update agent configuration

For most use cases, start with the Agent class. Use core functions (`generateText`, `streamText`) when you need explicit control over each step for complex structured workflows.

## [Structured Workflows](#structured-workflows)

Agents are flexible and powerful, but non-deterministic. When you need reliable, repeatable outcomes with explicit control flow, use core functions with structured workflow patterns combining:

- Conditional statements for explicit branching
- Standard functions for reusable logic
- Error handling for robustness
- Explicit control flow for predictability

[Explore workflow patterns](workflows.html) to learn more about building structured, reliable systems.

## [Next Steps](#next-steps)

- **[Building Agents](building-agents.html)** - Guide to creating agents with the Agent class
- **[Workflow Patterns](workflows.html)** - Structured patterns using core functions for complex workflows
- **[Loop Control](loop-control.html)** - Execution control with stopWhen and prepareStep
















On this page

























Vercel delivers the infrastructure and developer experience you need to ship reliable AI-powered applications at scale.

Trusted by industry leaders:















#### Resources




#### More




#### About Vercel




#### Legal







Â© 2025 Vercel, Inc.