AI SDK 5 is available now.










Menu




































































































































































































































































































































































































































































































# [Tool Invocation Missing Result Error](#tool-invocation-missing-result-error)

## [Issue](#issue)

When using `generateText()` or `streamText()`, you may encounter the error "ToolInvocation must have a result" when a tool without an `execute` function is called.

## [Cause](#cause)

The error occurs when you define a tool without an `execute` function and don't provide the result through other means (like `useChat`'s `onToolCall` or `addToolResult` functions).

Each time a tool is invoked, the model expects to receive a result before continuing the conversation. Without a result, the model cannot determine if the tool call succeeded or failed and the conversation state becomes invalid.

## [Solution](#solution)

You have two options for handling tool results:

1.  Server-side execution using tools with an `execute` function:



``` tsx
const tools = ),    execute: async () => ;    },  }),};
```


2.  Client-side execution with `useChat` (omitting the `execute` function), you must provide results using `addToolResult`:



``` tsx
import  from '@ai-sdk/react';import  from 'ai';
const  = useChat() => );      } catch (err) );      }    }  },});
```




``` tsx
// For interactive UI elements:const  = useChat(),  sendAutomaticallyWhen: lastAssistantMessageIsCompleteWithToolCalls,});
// Inside your JSX, when rendering tool calls:<button  onClick=,    })  }>  Confirm</button>;
```





Whether handling tools on the server or client, each tool call must have a corresponding result before the conversation can continue.


















On this page






















Vercel delivers the infrastructure and developer experience you need to ship reliable AI-powered applications at scale.

Trusted by industry leaders:















#### Resources




#### More




#### About Vercel




#### Legal







Â© 2025 Vercel, Inc.